<script src="/erp/files/assets/js/erp-scripts/finance/satutaryreports/costwisespentreport.js"></script>


    <link rel="stylesheet" type="text/css" href="/erp/files/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" type="text/css" href="/erp/files/assets/pages/data-table/css/buttons.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="/erp/files/bower_components/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css">

   <!-- BreadCrumb End -->
<div class="card body" id="costwisespentreportId"   data-ng-controller="costwisespentreportController">

  <!-- BreadCrumb Start -->
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="card">
                                                    <div class="card-block caption-breadcrumb">
                                                        <div class="breadcrumb-header">
                                                            <h5>Cost Center Wise Spent Report</h5>
                                                        </div>
                                                        <div class="page-header-breadcrumb">
                                                            <ul class="breadcrumb-title">
                                                                <li class="breadcrumb-item">
                                                                    <a href="#!">
                                                                        <i class="ti-home"></i>
                                                                    </a>
                                                                </li>
                                                                <li class="breadcrumb-item">
                                                                    <a href="#!">Procurements</a>
                                                                </li>
                                                                <li class="breadcrumb-item">
                                                                    <a href="#!">MIS Management</a>
                                                                </li>
                                                                <li class="breadcrumb-item">
                                                                    <a href="#!">Cost Center Wise Spent Report</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" id="display2">
                                            <div class="col-sm-12">
                                                <div class="card" >
                                                    <div class="card-header bg-primary">
                                                        <h6 class="card-title">Cost Center Wise Spent Report</h6>
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-sm-12 col-md-3 col-xl-3 col-lg-3 col-xs-12">   
                                                                <div class="form-group">
                                                                    <label class="font-weight-bold">Financial_Year&nbsp;&nbsp;<span class="text-danger">*</span> :</label>
                                                                    <select class="form-control form-control-primary" data-ng-model="data.object.yearid" placeholder="select Type">
                                                                        <option>select</option>
																		<option data-ng-repeat="year in financialyear"      
								                                        	value= "{{year.financial_year}}">{{year.fy}}</option>
                                                                        
                                                                    </select>
                                                                </div>   
                                                            </div>

                                                            <div class="col-sm-12 col-md-3 col-xl-3 col-lg-3 col-xs-12">
                                                                <div class="form-group">
                                                                    <label class="font-weight-bold">Cost Center&nbsp;&nbsp;<span class="text-danger">*</span> :</label>
                                                                    <select class="form-control form-control-primary" data-ng-model="data.object.cost_id" placeholder="select Type">
                                                                        <option>select</option>
																		
								                                        <option data-ng-repeat="cost in costcenter"      
									                                        value="{{cost.cost_id}}">{{cost.cost_center}}</option>
                                                                        
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12 col-md-3  ">
                                                                <div class="col-sm-12 mt-4 ">
                                                                    <button class="btn btn-grd-success text-center" id="reportview" data-ng-click="getCostCenterReport(data.object);"
																	type="submit" >Submit</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>   
                                            </div>
                                        </div>
                                        <div class="card" id="display">
										 <div class="card-header bg-primary">
                                                        <h6 class="card-title">Cost Center Wise Spent Amount List</h6>
                                                    </div>
                                          <div class="row">
                                            <div class="col-sm-12">
                                                <div class="card-block">
                                                    <div class="dt-responsive table-responsive">
                                                        <table id="simpletable" class="table table-striped table-bordered nowrap">
                                                            <thead>
                                                                <tr>
                                                                    <th>S.No</th>
                                                                    <th>Cost Center</th>
                                                                    <th>Amount</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr data-ng-repeat="costAmount in filteredResult = costcenterAmount | filter:search">
                                                                    <td>{{$index+1}}</td>
                                                                    <td>{{costAmount.cost_center}}</td>
                                                                    <td><a data-ng-click="getJournalVoucherDetails(costAmount);">{{costAmount.amount}}</a>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
										</div>

                                       <div class="card"  id="display1">
										 <div class="card-header bg-primary">
                                                        <h6 class="card-title">Journal Voucher List</h6>
                                                    </div>
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="card-block">
                                                    <div class="dt-responsive table-responsive">
                                                        <table id="simpletable" class="table table-striped table-bordered nowrap">
                                                            <thead>
                                                                <tr>
                                                                    <th>S.No</th>
                                                                    <th>Journal Voucher</th>
                                                                    <th>Voucher Date</th>
																	<th>Amount</th>
																	<th>Description</th>
																	
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr data-ng-repeat="voucher in filteredResult = journalvoucher | filter:search">
                                                                    <td>{{$index+1}}</td>
                                                                    <td><a data-ng-click="getJournalEntryDetails(voucher);" data-toggle="modal" data-target="#myModal">{{voucher.voucher_number}}</a></td>
                                                                    <td>{{voucher.voucher_date}}</td>
																	<td>{{voucher.amount}}</td>
																	<td>{{voucher.description}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
									</div>
									<div class="modal fade md-effect-2" id="myModal" tabindex="-1" role="dialog">
                                                                        <div class="modal-dialog modal-lg" role="document">
                                                                            <div class="modal-content">
                                                                                <div class="modal-header">
                                                                                    <h4 class="modal-title">Journal Entry Details</h4>
                                                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                             <span aria-hidden="true">&times;</span>
                                                                              </button>
                                                                                </div>
                                                                                <div class="modal-body">
                                                                                    <div class="card-body" data-ng-repeat="data in Details">
                                                                                        <div class="row">
                                                                                            <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
                                                                                                <div class="form-group">
                                                                                                    <label class="font-weight-bold">Voucher Number:</label> &nbsp;&nbsp;
                                                                                                    <span class="text-danger">*</span>
                                                                                                    {{data.voucher_number}}
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
                                                                                                <div class="form-group">
                                                                                                    <label class="font-weight-bold">Project Name:</label> &nbsp;&nbsp;
                                                                                                    <span class="text-danger">*</span>
                                                                                                    {{data.project}}
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
                                                                                                <div class="form-group">
                                                                                                    <label class="font-weight-bold">Program Name:</label> &nbsp;&nbsp;
                                                                                                    <span class="text-danger">*</span>
                                                                                                   {{data.program}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
																						<div class="row">
                                                                                            <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
                                                                                                <div class="form-group">
                                                                                                    <label class="font-weight-bold">W.O NO/P.O NO:</label> &nbsp;&nbsp;
                                                                                                    <span class="text-danger">*</span>
                                                                                                   {{data.workorder_name}}	
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
                                                                                                <div class="form-group">
                                                                                                    <label class="font-weight-bold">Entry Type:</label> &nbsp;&nbsp;
                                                                                                    <span class="text-danger">*</span>
                                                                                                    {{data.entry_type}}	
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
                                                                                                <div class="form-group">
                                                                                                    <label class="font-weight-bold">Date</label> &nbsp;&nbsp;
                                                                                                    <span class="text-danger">*</span>
                                                                                                   {{data.date}}		
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                          <div class="row">
                                                                                            <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
                                                                                                <div class="form-group">
                                                                                                    <label class="font-weight-bold">Account Payable ID:</label> &nbsp;&nbsp;
                                                                                                    <span class="text-danger">*</span>
                                                                                                   <a id="account" data-ng-click="getPreviousInvoiceDetails(data.workorder);
																								   getTaxDetails(data.voucher_id);getDocumentDetails(data.voucher_id);
																								   getCommentDetails(data.voucher_id);getTimelineDetails(data.voucher_id);
											                                                       getItemDetails(data.voucher_id);getPaymentDetails(data.voucher_id);
											                                                        getByPendingDetails(data.voucher_id);getJVDetails(data.voucher_id);">{{data.voucher_id}}</a>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="modal-footer">
                                                                                    <button type="button" class="btn btn-default waves-effect " data-dismiss="modal">Close</button>
                                                                                    <button type="button" class="btn btn-primary waves-effect waves-light " data-dismiss="modal">Update</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>	


                                  </div> 

   

    <script src="/erp/files/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="/erp/files/assets/pages/data-table/js/jszip.min.js"></script>
    <script src="/erp/files/assets/pages/data-table/js/pdfmake.min.js"></script>
    <script src="/erp/files/assets/pages/data-table/js/vfs_fonts.js"></script>
    <script src="/erp/files/bower_components/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>

    <script src="/erp/files/assets/pages/data-table/js/data-table-custom.js"></script>
    <script>
   jQuery(document).ready(function() { 

			$("#display").hide();  
			$("#display1").hide();
			
angular.bootstrap(jQuery("#costwisespentreportId"), [ 'costwisespentreport' ]);
		});
           
		jQuery("#reportview").click(function() {
			$("#display").show();     
		});   
		$(document).on('click', "#account", function(){
			$("#display").hide();
			$("#display1").hide();  
		});    
		
	</script>   
