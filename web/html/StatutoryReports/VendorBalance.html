<script
	src="/erp/files/assets/js/erp-scripts/finance/satutaryreports/vendoraccountbalance.js"></script>
    <link rel="stylesheet" type="text/css" href="/erp/files/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" type="text/css" href="/erp/files/assets/pages/data-table/css/buttons.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="/erp/files/bower_components/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css">

   <div style="margin-top:-10%;margin-left:10%; width: 80%;" id="vendoraccountbalanceId" data-ng-controller="vendoraccountbalanceController">
                                        <!-- BreadCrumb Start -->
                                        <div class="row">      
                                            <div class="col-sm-12">   
                                                <div class="card">
                                                     <div class="card-block caption-breadcrumb">
                                                        <div class="breadcrumb-header">
                                                            <h5>Vendor Account Balance</h5>
                                                        </div>
                                                           <div class="page-header-breadcrumb">
                                                            <ul class="breadcrumb-title">
                                                                <li class="breadcrumb-item">
                                                                    <a href="#!">
                                                                        <i class="ti-home"></i>
                                                                    </a>
                                                                   </li>
                                                                <li class="breadcrumb-item">
                                                                    <a href="#!">Finance</a>
                                                                </li>
                                                                   <li class="breadcrumb-item">
                                                                    <a href="#!">Statutory Reports</a>
                                                                </li>
                                                                <li class="breadcrumb-item">
                                                                    <a href="#!">Vendor Balance</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>   
                                                </div>
                                            </div>
                                        </div>
                                        <!-- BreadCrumb End -->
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="card">
                                                    <div class="card-header bg-primary">
                                                        <h6 class="card-title">Vendor Account Balance</h6>
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="row">

                                                            <div class="col-sm-12 col-xl-3 m-b-30">Financial Year
                                                                <select name="select" class="form-control"
                                                                  data-ng-model = "data.object.financial_year">
								<option><!-- select --></option>
								<option data-ng-repeat="year in financialYear" value="{{year.financial_year}}">{{year.fy}}</option>
							</select>
                                                            </div>
                                                            <div class="col-sm-12 col-xl-3 m-b-30 text-center">
                                                                <button class="btn btn-primary"  data-ng-click ="getVendorAccountBalance(data.object);">Submit</button>
                                                            </div>
                                                        </div>


                                                    </div>   
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="card">
                                                    <div class="card-header bg-primary">Vendor List</div>

                                                    <div class="card-body">
                                                        <button class="btn btn-primary" id = "excel" data-ng-click = "">Export Excel</button><br><br>
                                                        <div class="dt-responsive table-responsive">
                                                            <table class="table table-hover table-bordered" id="simpletable">
                                                                <thead class="btn-grd-primary">
                                                                    <tr>
                                                                        <th>S.No</th>        
										<th style="min-width: 150px;max-width: 150px;text-align: center;">Vendor Name</th>   
										<th style="min-width: 100px;max-width: 100px;text-align: center;">Mobile Number</th>    
										<th style="min-width: 250px;max-width: 250px;text-align: center;">Email</th>    
										<th style="min-width: 100px;max-width: 100px;text-align: center;">State</th> 
										<th colspan = "2" style="min-width: 200px;max-width: 200px;text-align: center;" data-ng-show="data.object.financial_year =='8'">2020-2021</th> 
										<th colspan = "2" style="min-width: 200px;max-width: 200px;text-align: center;" data-ng-show="data.object.financial_year =='7'">2019-2020</th> 
										<th colspan = "2" style="min-width: 200px;max-width: 200px;text-align: center;" data-ng-show="data.object.financial_year =='6'">2018-2019</th> 
										<th colspan = "2" style="min-width: 200px;max-width: 200px;text-align: center;" data-ng-show="data.object.financial_year =='5'">2017-2018</th>
										<th colspan = "2" style="min-width: 200px;max-width: 200px;text-align: center;" data-ng-show="data.object.financial_year =='1'">2016-2017</th>
                                        <th colspan = "2" style="min-width: 200px;max-width: 200px;text-align: center;" data-ng-show="data.object.financial_year =='2'">2015-2016</th>
                                        <th colspan = "2" style="min-width: 200px;max-width: 200px;text-align: center;" data-ng-show="data.object.financial_year =='3'">2014-2015</th>                           
                                        <th style="min-width: 250px;max-width: 250px;text-align: center;">Debit</th>    
										<th style="min-width: 100px;max-width: 100px;text-align: center;">Credit</th>                           
                                                                    </tr>
                                                                    <tr>
                                                                       <th></th>           
										<th style="min-width: 150px;max-width: 150px;text-align: center;"></th>   
										<th style="min-width: 100px;max-width: 100px;text-align: center;"></th>    
										<th style="min-width: 250px;max-width: 250px;text-align: center;"></th>    
										<th style="min-width: 100px;max-width: 100px;text-align: center;"></th> 
										<th style="min-width: 100px;max-width: 100px;text-align: center;">Booked Amount</th>
										<th style="min-width: 100px;max-width: 100px;text-align: center;">Paid Amount</th>
										<th style="min-width: 150px;max-width: 150px;text-align: center;"></th>   
										<th style="min-width: 100px;max-width: 100px;text-align: center;"></th>
										
										
       
                                                                       </tr>   
                                                                </thead>
                                                                <tbody>
                                     <tr  data-ng-repeat="balance in filteredResult = vendorBalance | filter:search">       
										<td style="text-align: center;">{{$index+1}}</td>        
										<td style="text-align: center;">{{balance.vendor_name}}</td>   
										<td style="text-align: center;">{{balance.mobile_number}}</td>    
										<td style="text-align: center;">{{balance.email}}</td>    
										<td style="text-align: center;">{{balance.state}}</td> 
										<td style="text-align: center;">{{balance.booked_amount | number : 2}}</td>
										<td style="text-align: center;">{{balance.paid_amount | number : 2}}</td>
										     
									</tr>                
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                     </div>

                                 

   
    <!-- Data Table -->
    
    <script src="/erp/files/bower_components/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="/erp/files/assets/pages/data-table/js/jszip.min.js"></script>
    <script src="/erp/files/assets/pages/data-table/js/pdfmake.min.js"></script>
    <script src="/erp/files/assets/pages/data-table/js/vfs_fonts.js"></script>
    <script src="/erp/files/bower_components/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/erp/files/bower_components/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>

    <script src="/erp/files/assets/pages/data-table/js/data-table-custom.js"></script>
   

    <script>   
        $('#simpletable1').DataTable();    
    </script>   
    <script>   
		$("#report").hide();
		jQuery(document).ready(function() { 
			angular.bootstrap(jQuery("#vendoraccountbalanceId"), [ 'vendoraccountbalance' ]);
		});
		$(document).on('click', "#submit", function(){
			$("#report").show();	 
		});
	</script>
