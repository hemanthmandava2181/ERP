<script src="/erp/scripts/finance/bookinvoiceviewpage.js"></script>

<style>
.note-editor {
	  margin-bottom: 5rem !important;
	}
	/*——————————————
	Global
	———————————————*/
	
	body {
	  font-family: helvetica;
	}
	/*——————————————
	TimeLine CSS
	———————————————*/
	/* Base */
	
	#content {
	  margin-top: 50px;   
	  text-align: center;
	}
	
	section.timeline-outer {
	  width: 80%;
	  margin: 0 auto;
	}
	
	h1.header {
	  font-size: 50px;
	  line-height: 70px;
	}
	/* Timeline */
	
	.timeline {
	  border-left: 8px solid #42A5F5;
	  border-bottom-right-radius: 2px;
	  border-top-right-radius: 2px;
	  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
	  color: #333;
	  margin: 50px auto;
	  letter-spacing: 0.5px;
	  position: relative;
	  line-height: 1.4em;
	  padding: 20px;
	  list-style: none;
	  text-align: left;
	}
	
	.timeline h1,
	.timeline h2,
	.timeline h3 {
	  font-size: 1.4em;
	}
	
	.timeline .event {
	  border-bottom: 1px solid rgba(160, 160, 160, 0.2);
	  padding-bottom: 15px;
	  margin-bottom: 20px;
	  position: relative;
	}
	
	.timeline .event:last-of-type {
	  padding-bottom: 0;
	  margin-bottom: 0;
	  border: none;
	}
	
	.timeline .event:before,
	.timeline .event:after {
	  position: absolute;
	  display: block;
	  top: 0;
	}
	
	.timeline .event:before {
	  left: -177.5px;
	  color: #212121;
	  content: attr(data-date);
	  text-align: right;
	  /*  font-weight: 100;*/
	  
	  font-size: 16px;
	  min-width: 120px;
	}
	
	.timeline .event:after {
	  box-shadow: 0 0 0 8px #42A5F5;
	  left: -30px;
	  background: #212121;
	  border-radius: 50%;
	  height: 11px;
	  width: 11px;
	  content: "";
	  top: 5px;
	}
	/**/
	/*——————————————
	Responsive Stuff
	———————————————*/
	
	@media (max-width: 945px) {
	  .timeline .event::before {
	    left: 0.5px;
	    top: 20px;
	    min-width: 0;
	    font-size: 13px;
	  }
	  .timeline h3 {
	    font-size: 16px;
	  }
	  .timeline p {
	    padding-top: 20px;
	  }
	  section.lab h3.card-title {
	    padding: 5px;
	    font-size: 16px
	  }
	}
	
	@media (max-width: 768px) {
	  .timeline .event::before {
	    left: 0.5px;
	    top: 20px;
	    min-width: 0;
	    font-size: 13px;
	  }
	  .timeline .event:nth-child(1)::before,
	  .timeline .event:nth-child(3)::before,
	  .timeline .event:nth-child(5)::before {
	    top: 38px;
	  }
	  .timeline h3 {
	    font-size: 16px;
	  }
	  .timeline p {
	    padding-top: 20px;
	  }
	}
	/*——————————————
	others
	———————————————*/
	
	a.portfolio-link {
	  margin: 0 auto;
	  display: block;
	  text-align: center;
	}
	@import url('https://fonts.googleapis.com/css?family=Lobster');
	
	body{
	  color: #444444;
	  background: #FFF;
	}
	
	.recipe-header{
	  
	}
	
	h1{
	  font-size: 56px;
	  font-weight: 400;
	  font-family: 'Lobster', cursive;
	  color: #ffffff;
	  text-shadow: 0 2px #7d7d7d;
	}
	
	.recipe-tab {
	  font-family: "Times New Roman", Times, serif;
	
	  text-align: center;
	  list-style: none;
	  margin: 50px 0 0;   
	  font-size: 20px;
	  padding: 0;
	  line-height: 24px;
	  overflow: hidden;
	  position: relative;
	  
	}
	.recipe-tab li {
	  border: 3px solid #4893D2;
	  padding: 10px 28px 8px;
	  background-color: #FFF;
	  margin-right: 5px;
	  display: inline-block;
	  position: relative;
	  z-index: 0;
	  color: #4893D2;
	}
	/*.recipe-tab a {
	  color: #4893D2;;
	  text-decoration: none;
	}*/
	.recipe-tab li.selected {
	  background: #FFF;
	  z-index: 2;
	  border-bottom-color: #FFF;
	}
	
	.recipe-content{
	  border-top-left-radius: 10px;
	  border-top-right-radius: 10px;
	  background: #ffffff;
	  width: 60%;
	  margin: 0 auto;
	  padding: 50px;
	}
	
	.recipe-tab li:before,
	.recipe-tab li:after {
	  display: block;
	  content: " ";
	  position: absolute;
	  top: 0;
	  height: 100%;
	  width: 44px;  
	  background-color: #FFF;
	  
	}
	.recipe-tab li:before {
	  left: -24px;
	  transform: skew(-25deg, 0deg);
	  border-left: 3px solid #4893D2;
	}
	.recipe-tab li:after {
	  right: -24px;
	  transform: skew(25deg, 0deg);
	  border-right: 3px solid #4893D2;
	}
	
	.recipe-tab li:before {
	  border-radius: 8px 0 0 0;
	}
	.recipe-tab li:after {
	  border-radius: 0 8px 0 0;
	}
	
	.recipe-tab li.selected:before,
	.recipe-tab li.selected:after{
	  background: #FFF;
	  border-bottom: 3px solid #ffffff;
	}
	
	.recipe-tab li:hover,
	.recipe-tab li:hover:before,
	.recipe-tab li:hover:after {
	  background-color: #4893D2;
	  color: white;
	  cursor: pointer;
	  border-bottom-color: #4893D2;
	}
	.tabs{
	  width: 75%;
	  margin: 0 auto;
	  text-align: center;
	}
	
	.tabs:after {
	  clear: both;
	  content: '';
	  display: table;
	}
	
	.tabs .tab {
	  display: inline;
	  
	  
	}
	
	.tabs .tab-label {
	  font-size: 12px;
	  vertical-align: bottom;
	  font-family: "Times New Roman", Times, serif;
	  border: 3px solid #4893D2;
	  padding: 15px 15px 8px;
	  background-color: #FFF;
	  /* margin-right: -9px; */
	  display: inline-block;
	   position: relative; 
	  z-index: 0;
	  color: #4893D2;
	}
	
	.tabs .tab-label:before,
	.tabs .tab-label:after {
	  display: block;
	  content: " ";
	  position: absolute;
	  top: 0;
	  height: 100%;
	  width: 30px;  
	  background-color: #FFF;
	  
	}    
	.tabs .tab-label:before {
	  left: -17px;
	  transform: skew(-25deg, 0deg);
	  border-left: 3px solid #4893D2;
	}
	.tabs .tab-label:after {
	  right: -17px;
	  transform: skew(25deg, 0deg);
	  border-right: 3px solid #4893D2;
	}
	
	.tabs .tab-label:before {
	  border-radius: 8px 0 0 0;
	}
	.tabs .tab-label:after {
	  border-radius: 0 8px 0 0;
	}
	
	.recipe-tab li.selected:before,
	.recipe-tab li.selected:after{
	  background: #FFF;
	  border-bottom: 3px solid #ffffff;
	}
	
	.tabs .tab [type="radio"]:hover:checked + .tab-label,
	.tabs .tab-label:hover,
	.tabs .tab-label:hover:before,
	.tabs .tab-label:hover:after {
	  background-color: #4893D2;
	  color: white;
	  cursor: pointer;
	  border-bottom-color: #4893D2;
	}
	
	.tabs .tab > [type="radio"] {
	  clip: rect(0 0 0 0);
	  height: 1px;
	  opacity: 0;
	  position: fixed;
	  width: 1px;
	  z-index: -1;
	}
	
	.tabs .tab-panel {
	  display: inline;
	  display: inline-block;
	  overflow: hidden;
	  position: relative;
	  height: 0;
	  width: 0;
	}
	
	.tabs .tab-content {
	 /*  -webkit-box-sizing: border-box;
	  -moz-box-sizing: border-box;
	  box-sizing: border-box; */
	 /*  display: block; */
	  background: white;
	  border-radius: 15px;
	  /* padding: 50px; */
	  float: left;
	  width: 100%;
	  text-align: left;
	}
	
	.tabs .tab-content h2{
	  text-align: center;
	  margin-bottom:45px;
	}
	   
	.tabs .tab [type="radio"]:checked + .tab-label {
	  background: white;
	  border-bottom-width: 0;
	 /*  padding-bottom: 11px; */
	  z-index: 1;
	}
	
	.tabs .tab .tab-label .word-recipe{
	 display:none;
	}
	
	.tabs .tab [type="radio"]:checked + .tab-label .word-recipe{
	  display:inline;
	}
	
	.tabs .tab [type="radio"]:checked ~ .tab-panel {
	  display: inline;
	}

	.nav-tabs > li{
		float: left;
		margin-bottom: -3px;
	}
	.nav > li{
		positoin: relative;
		display: block;
	}
	 .manpower-tab > li > a,
	.manpower-tab > li.active > a,.manpower-tab > li.active > a > a:hover, .manpower-tab > li.active > a:focus, .cc-btn-update a{
		color: black !important;
		text-decoration : none;
	}
	.nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus{
		border-bottom : 3px solid #ffc10e;
		border-bottom-width : 3px;
		border-bottom-style : solid;
	}  
</style>

<div class = "container" style="margin-top:-10%;margin-right:2%; width: 80%;"  id="bookinvoiceviewpageId" data-ng-controller="bookinvoiceviewpageController">
	<div id = "mainhome">
		<div id = "mainpage">
			<h3>Invoice List</h3>
			<h5>&nbsp;</h5>
			<div class = "panel panel-primary">
				<div class = "panel-heading">
					<ul class = "nav nav-tabs manpower-tab">   
						<li>
							<a data-toggle="tab" href="#submittedinvoices" style = "text-color : black;">Submitted Invoices</a>
						</li>
						<li class = "active">
							<a data-toggle="tab" href="#pendinginvoices" style = "text-color : black;">Pending Approvals</a>
						</li>
						<li>
							<a data-toggle="tab" href="#approvedrejectedinvoices">Approval/Rejected History</a>
						</li>
					</ul>  
				</div>
				<!-- <div class = "panel-body"> -->  
				<div style="overflow-x: auto;" class="panel-body cc-nopad">
					<div class="tab-content">
						<div id="submittedinvoices" class="tab-pane fade in">   
							<div id="receivableSubmitedList_wrapper"
								class="dataTables_wrapper no-footer">   
								<div class="dataTables_length"
									id="receivableSubmitedList_length">
									<label>Show <select
										name="receivableSubmitedList_length"
										aria-controls="receivableSubmitedList" class=""><option
												value="10">10</option>
											<option value="25">25</option>
											<option value="50">50</option>
											<option value="100">100</option></select> entries
									</label>
								</div>
								<table style="margin-bottom: 0px !important;"
									class="table table-striped table-bordered cell-border dataTable no-footer"
									id="receivableSubmitedList" role="grid"
									aria-describedby="receivableSubmitedList_info">
									<thead>   
										<tr role="row" style = "background-color: CornflowerBlue;">
											<th>S.No</th>        
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Order Type</th>   
											<th style="min-width: 200px;max-width: 200px;text-align: center;">WO.No/PO.No./MoU.No.</th>    
											<th style="min-width: 150px;max-width: 150px;text-align: center;">AP ID</th> 
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Vendor Name</th>
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Status</th>
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Date&Time</th>
											<th style="min-width: 100px;max-width: 100px;text-align: center;">Action</th>
										</tr>
									
										<tr data-ng-repeat="submittedinvoice in submittedinvoicesdata">
											<td style = "text-align: center;">{{$index+1}}</td>
											<td style = "text-align: center;">{{submittedinvoice.ordertype}}</td>
											<td style = "text-align: center;">{{submittedinvoice.wo_number}}</td>    
											<td style = "text-align: center;">{{submittedinvoice.ap_id}}</td>
											<td style = "text-align: center;">{{submittedinvoice.vendor_name}}</td>
											<td style = "text-align: center;">{{submittedinvoice.approvestatus}}</td>
											<td style = "text-align: center;">{{submittedinvoice.date_created || 'dd-mm-YYYY HH:MM'}}</td>
											<td style = "text-align: center;">
												<button type = "submit" class = "btn btn-primary" id = "viewbtn" 
													data-ng-click = "getreceivableviewdata(submittedreceivable.voucher_id);">View</button>
											</td>
										</tr>
									</thead>      
								</table>
							</div>       
						</div>
						
						<div id="pendinginvoices" class="tab-pane fade in active">
							<div id="receivablePendingList_wrapper"
								class="dataTables_wrapper no-footer">
								<div class="dataTables_length"
									id="receivablePendingList_length">
									<label>Show <select
										name="receivablePendingList_length"
										aria-controls="receivablePendingList" class=""><option
												value="10">10</option>
											<option value="25">25</option>
											<option value="50">50</option>
											<option value="100">100</option></select> entries
									</label>
								</div>
								<table style="margin-bottom: 0px !important;"
									class="table table-striped table-bordered cell-border dataTable no-footer"
									id="receivablePendingList" role="grid"
									aria-describedby="receivablePendingList_info">
									<thead>
										<tr role="row" style = "background-color: CornflowerBlue;">
											<th>S.No</th>        
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Order Type</th>   
											<th style="min-width: 200px;max-width: 200px;text-align: center;">WO.No/PO.No./MoU.No.</th>    
											<th style="min-width: 150px;max-width: 150px;text-align: center;">AP ID</th> 
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Vendor Name</th>
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Status</th>
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Date&Time</th>
											<th style="min-width: 100px;max-width: 100px;text-align: center;">Action</th>	
										</tr>
										<tr data-ng-repeat="pendinginvoice in pendinginvoicesdata">
											<td style = "text-align: center;">{{$index+1}}</td>
											<td class="hidden">{{pendinginvoice.workorder}}</td>   
											<td style = "text-align: center;">{{pendinginvoice.voucher_id}}</td>
											<td style = "text-align: center;">{{pendinginvoice.workorder_id}}</td>    
											<td style = "text-align: center;">{{pendinginvoice.voucher_id}}</td>
											<td style = "text-align: center;">{{pendinginvoice.name}}</td>
											<td style = "text-align: center;">{{pendinginvoice.approvestatus}}</td>
											<td style = "text-align: center;">{{pendinginvoice.date_created || 'dd-mm-YYYY HH:MM'}}</td>
											<td style = "text-align: center;">  
												<button type = "submit" class = "btn btn-primary" id = "PendingActionbtn" 
													data-ng-click = "getPreviousInvoiceDetails(pendinginvoice.workorder);getTaxDetails(pendinginvoice.voucher_id);
													getDocumentDetails(pendinginvoice.voucher_id);getCommentDetails(pendinginvoice.voucher_id);
													getTimelineDetails(pendinginvoice.voucher_id);getItemDetails(pendinginvoice.voucher_id);
													getPaymentDetails(pendinginvoice.voucher_id);
													getJVDetails(pendinginvoice.voucher_id);getJournalEntryDetails(pendinginvoice.voucher_id);getByPendingDetailsdata(pendinginvoice.voucher_id);">Action</button>
											</td>       
										</tr>          
									</thead>              
								</table>
							</div>        
						</div>
						   
						
						<div id="approvedrejectedinvoices" class="tab-pane fade in">    
							<div id="receivableAprvedList_wrapper"
								class="dataTables_wrapper no-footer">
								<div class="dataTables_length" id="receivableAprvedList_length">
									<label>Show <select name="receivableAprvedList_length"
										aria-controls="receivableAprvedList" class=""><option
												value="10">10</option>
											<option value="25">25</option>
											<option value="50">50</option>
											<option value="100">100</option></select> entries
									</label>
								</div>   
								<table style="margin-bottom: 0px !important;"
									class="table table-striped table-bordered cell-border dataTable no-footer"
									id="receivableAprvedList" role="grid"
									aria-describedby="receivableAprvedList_info">
									<thead>
										<tr role="row" style = "background-color: CornflowerBlue;">
											<th>S.No</th>        
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Order Type</th>   
											<th style="min-width: 200px;max-width: 200px;text-align: center;">WO.No/PO.No./MoU.No.</th>    
											<th style="min-width: 150px;max-width: 150px;text-align: center;">AP ID</th> 
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Vendor Name</th>
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Status</th>
											<th style="min-width: 150px;max-width: 150px;text-align: center;">Date&Time</th>
											<th style="min-width: 100px;max-width: 100px;text-align: center;">Action</th>		
										</tr>
										<tr data-ng-repeat="approverejectedinvoice in approvedrejecteinvoicesddata">
											<td style = "text-align: center;">{{$index+1}}</td>
											<td style = "text-align: center;">{{approverejectedinvoice.ordertype}}</td>
											<td style = "text-align: center;">{{approverejectedinvoice.name}}</td>    
											<td style = "text-align: center;">{{approverejectedinvoice.approvestatus}}</td>
											<td style = "text-align: center;">{{approverejectedinvoice.created_by}}</td>
											<td style = "text-align: center;">{{approverejectedinvoice.approvestatus}}</td>
											<td style = "text-align: center;">{{approverejectedinvoice.date_created || 'dd-mm-YYYY HH:MM'}}</td>
											<td style = "text-align: center;">
												<button type = "submit" class = "btn btn-primary" id = "viewbtn" 
													data-ng-click = "getreceivableviewdata(approverejectedreceivable.voucher_id);">View</button>
											</td>
										</tr>
									</thead>
								</table>
							</div>
						</div>    
					</div>
				</div>     
			</div>
		</div>
		   
		<!-- pending tab view page -->    
		<div id = "pendingviewpage">
			<div class = "panel panel-primary">
				<div class = "panel-body">
					<div class = "row">
						<div class = "col-md-2">   
							<label>Voucher Date:</label>
						</div>
						<div class = "col-md-3">
							<input type = "date" id = "vdate" data-ng-model = "data.object.date" class = "form-control" />
						</div>
						<div class = "col-md-2">
							<label>&nbsp;</label>
						</div>
						<div class = "col-md-5">   <!-- bookaccountspayableinvoice(data.object);getjouranlentrydata();getjouranlentrydata(data.object); -->
							<div class = "row">         
								<div class = "col-md-4">
									<button class = "btn btn-success" id = "bookinvoicebtn" data-ng-click = "bookaccountspayableinvoice(data.object);" type = "submit">Book Invoice</button>
								</div>   
								<div class = "col-md-4">
									<button class = "btn btn-primary" data-ng-click = "" id = "park" type = "submit">Park</button>
								</div>  
							</div>
						</div>     
					</div>  
				</div>
			</div>
			<div class = "panel panel-primary">   
				<div class = "panel-heading">Invoice Details</div>
				<div class = "panel-body">
					<div class = "row">
						<div class = "col-md-3">   
							<label>Invoice ID:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.invoice_id" disabled />
						</div>
						<div class = "col-md-2">
							<label>Invoice Date:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.invoice_date" disabled />
						</div>
						<div class = "col-md-2">    
							<label>Invoice Due Date:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.due_date" disabled />
						</div>
						<div class = "col-md-2">
							<label>Invoice Amount:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.net_amount" disabled />
						</div>
						<div class = "col-md-1">
							<label>&nbsp;</label>
						</div>
						<div class = "col-md-2">
							<label>Submitted Date:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.submitted_date" disabled />
						</div>
					</div>
					<div class = "row">
						<div class = "col-md-4">
							<label>Created By:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.createdby" disabled />
						</div>
						<div class = "col-md-4">    
							<label>AP ID:</label>   
							<input type = "text" class = "form-control" data-ng-model = "data.object.voucher_id" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.voucher" />
						</div>   
						<div class = "col-md-4">
							<label>Cost Center:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.cost_center" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.credit_tax_amount" />
						</div>
					</div>  
				</div>
			</div>
			<div class = "panel panel-primary">
				<div class = "panel-heading">Work Order Details</div>
				<div class = "panel-body">
					<div class = "row">
						<div class = "col-md-4">
							<label>WorkOrder No:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.workorder_id" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.workorder" />
						</div>
						<div class = "col-md-4">
							<label>WorkOrder Amount:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.workorder_amount" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.debit_tax_amount" />
						</div>
						<div class = "col-md-4">
							<label>Project:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.project_name" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.project" />
						</div>
					</div>  
					<div class = "row">  
						<div class = "col-md-6">
							<label>Program:</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.program_name" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.program" />
						</div>
						<div class = "col-md-6">
							<label>Vendor:</label>   
							<input type = "text" class = "form-control" data-ng-model = "data.object.createdby" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.vendor" /> 
						</div>
					</div>
				</div>
			</div>
			<div class="tabs" id="listtab" style="margin-left: 0%;position:absolute;top:600px;width:100%">
				<div class="tab">
				    <input class="tab-radio" type="radio" id="tab-1" name="tab-group-1" checked>
				    <label class="tab-label" for="tab-1">Journal Entry</label>
				    <div class="tab-panel">   
     					<div class="tab-content">
       						<div class="panel panel-primary">
		   						<div class="panel-body">   
		   							<div class = "row">
		   								<div class = "col-md-7">
		   									<!-- <div id="dataDiv" style="overflow-x:auto;">
												<table class="table table-bordered">  
													<thread> 
														<tr style='background-color: CornflowerBlue'>           
															<th>S.No</th> 
															<th style="min-width: 200px;max-width: 200px;text-align: center;">Account Name</th>   
															<th style="min-width: 150px;max-width: 150px;text-align: center;">Debit</th>    
															<th style="min-width: 150px;max-width: 150px;text-align: center;">Credit</th>  		   	             
														</tr>   
														<tr data-ng-repeat="journalentry in journalentrydata">
															<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{$index+1}}</td>
															<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{journalentry.account_name}}</td>
															<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{journalentry.debit_amount}}</td>    
															<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{journalentry.credit_amount}}</td>
														</tr>            		                
													</thread>                         
												</table> 
											</div> -->   
											<div class="panel-body table-responsive">
												<table class="table table-bordered">
													<tr style='background-color: CornflowerBlue'>        
														<!-- <th align="left">S.no</th>    -->          
														<th align="left">Account Name</th>    
														<th align="left">Debit/By(<span class="fa fa-inr"><!--  --></span>)</th>
														<th align="left">Credit/To(<span class="fa fa-inr"><!--  --></span>)</th>
														
													</tr> 
													<tbody>
														<div data-ng-if = "jvview1.length != 0">
															<tr data-ng-repeat="jv in jvview1 = jvview1 | filter : search">
															    <!--  <td align="left">{{$index+1}}</td> -->
																 <td align="left">{{jv.account_name}}</td>   
																 <td align="left">{{jv.debit}}</td>   
																 <td align="left">{{jv.credit}}</td>
															</tr>      
														</div>
														<div data-ng-if = "jvview2.length != 0">
															<tr data-ng-repeat="jv in jvview2 = jvview2 | filter : search">
																<td align="left">{{jv.account_name}}</td>   
																<td align="left">{{jv.debit}}</td>   
																<td align="left">{{jv.credit}}</td>
															</tr>  
														</div>    
														<div data-ng-if = "jvview3.length != 0">
															<tr data-ng-repeat="jv in jvview3 = jvview3 | filter : search">
																<td align="left">{{jv.account_name}}</td>   
																<td align="left">{{jv.debit}}</td>   
																<td align="left">{{jv.credit}}</td>
															</tr> 
															<tr>      
																<td colspan="1">
																<center><b>Total</b></center></td> 
																<td><b>{{jvview1[0].debit + jvview2[0].debit + jvview3[0].debit}}</b></td>
																<td><b>{{jvview1[0].credit + jvview2[0].credit + jvview3[0].credit}}</b></td>
														 
															</tr>    
														</div>
													</tbody>
												</table>   
											</div> 
		   								</div>
		   								<div class = "col-md-5">
		   									<label>Description:</label><br>
		   									{{data.object.description}}
		   								</div>        
		   							</div>
								</div>
							</div>	
     					</div>
   					</div> 
 				</div>
  				<div class="tab">
    				<input class="tab-radio" type="radio" id="tab-2" name="tab-group-1" checked>
    				<label class="tab-label" for="tab-2">Invoice</label>   
    					<div class="tab-panel">
     						<div class="tab-content">
       							<div class="panel panel-primary">   
     								<div class="panel-heading">Item List</div>
     									<div class = "panel-body"> 
	      									<div class = "row">
	      										<div class = "col-md-8">
	      											<div id="dataDiv" style="overflow-x:auto;">
														<table class="table table-bordered">  
															<thread> 
																<tr style='background-color: CornflowerBlue'>           
																	<th>S.No</th> 
																	<th style="min-width: 150px;max-width: 150px;text-align: center;">GL Account</th>   
																	<th style="min-width: 200px;max-width: 200px;text-align: center;">Description</th>    
																	<th style="min-width: 150px;max-width: 150px;text-align: center;">Amount (<span class="fa fa-inr"><!--  --></span>)</th>
																	<th style="min-width: 150px;max-width: 150px;text-align: center;">Attachments</th>  		   	             
																</tr>   
																<tr data-ng-repeat="item in items">
																	<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{$index+1}}</td>
																	<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{item.gl_account_name}}</td>
																	<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{item.title_description}}</td>    
																	<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{item.amount}}</td>
																	<td valign="middle" style="vertical-align: middle !important;" class="text-center">
																		<a data-ng-href="{{item.document_path}}" target="_blank" title="More Details" target="_blank"> 
																			<span class="glyphicon glyphicon-link"></span></a>{{item.doucment_name}}
																	</td>  
																</tr>            		             
															</thread>                         
														</table> 
													</div> 
	      										</div>
	      									</div>
	      								</div>
 								</div> 
      						</div>
    					</div> 
 					</div>

 						<div class="tab">
						    <input class="tab-radio" type="radio" id="tab-3" name="tab-group-1">
						    <label class="tab-label" for="tab-3">Invoice Documents</label>
						    	<div class="tab-panel">
								    <div class="tab-content">  
								    	<div class = "panel panel-primary">
										<div class="row">
		      								<div class="col-md-6">   
									 		   <div class="panel-body">
									 		   		<div class="panel-body table-responsive">
														<table class="table table-bordered">
															<tr style='background-color: CornflowerBlue'>           
																<th align="left">S.No</th>       
																<th align="left">Document name</th>    
																<th align="left">Attachments</th>
															
															</tr> 
															<tr data-ng-repeat="document in documents">      
																 <td align="left">{{$index+1}}</td>
																 <td align="left">{{document.document_name}}</td>
																<td align="left">
																	<a data-ng-href="{{document.document_path}}" target="_blank" title="More Details" target="_blank"> view</a>
																</td>
															</tr>  
														</table>
													</div>
									 			</div>  
		 									</div>    
									     </div> 
									</div> 
								</div>
							</div>
					</div>
					<div class="tab">
					    <input class="tab-radio" type="radio" id="tab-4" name="tab-group-1">
					    <label class="tab-label" for="tab-4">View Comments</label>
					    <div class="tab-panel">
					      <div class="tab-content">
					         <div class="panel panel-primary">
       							<div class="form-group row">
     								<div class="col-md-12">
      									<div data-ng-repeat="comment in comments">
								      		<textarea class="form-control" name="" style="height: 300px;" readonly>
								      			{{comment.name}}
								      			{{comment.comment}}
								      			Commented at:{{comment.date_created || 'dd-mm-YYYY HH:MM'}}
								      		</textarea>
								     	</div>
     								</div>
      							</div>
       							<div class="form-group row">
							      	<div class="col-md-12">
							       		<div class="panel panel-primary">
							 		   		<div class="panel-body">
 		     									<textarea type="text" class="form-control" data-ng-model="data.object.comments" id="code_preview0" name="" style="height: 100px;"></textarea>
 											</div>
				
 										</div> 
      								</div>
      								<center><button class="btn btn-success" id="search"  data-ng-click="saveComments(data.object);" style="cursor:pointer">Submit Comments</button></center>   
     
      							</div>
    						</div>    
  						</div>
  					</div>
  				</div>
   				<div class="tab">
				    <input class="tab-radio" type="radio" id="tab-5" name="tab-group-1">
				    <label class="tab-label" for="tab-5">Action Time Line</label>
				    <div class="tab-panel">
	      				<div class="tab-content">
	       					<div class="panel panel-primary">
	 		   					<div class="panel-body">
	       							<div class="main-container">
										 <section id="timeline" class="timeline-outer">
											<div class="container" id="content">
										    	<div class="row">
										        	<div class="col s12 m12 l12">
										          		<ul class="timeline">
										            		<li class="event" data-ng-repeat="time in timeline">
										           				<h3>{{time.created_by}}</h3>
										              			<p>{{time.invoice_name}} on  {{time.date_created}}</p>
										            		</li>										           
										          		</ul>
										        	</div>   
										      	</div>   
										    </div>
										  </section><br/>
										</div>
	      							</div>
	    						</div> 
	  						</div>
						</div>
					</div>
					<div class="tab">
					    <input class="tab-radio" type="radio" id="tab-6" name="tab-group-1">
					    <label class="tab-label" for="tab-6">Invoice Check List</label>
					    <div class="tab-panel">
      						<div class="tab-content">
        						<div class="panel panel-primary">
 		   							<div class="panel-body">
 		   								<div class = "row">
 		   									<div class = "col-md-8">
		 										<div id="dataDiv" style="overflow-x:auto;">
													<table class="table table-bordered">  
														<thread> 
															<tr style='background-color: CornflowerBlue'>           
																<th>S.No</th> 
																<th style="min-width: 150px;max-width: 150px;text-align: center;">Check Item</th>   
																<th style="min-width: 100px;max-width: 100px;text-align: center;">Verified</th>    
																<th style="min-width: 250px;max-width: 250px;text-align: center;">Comments</th>  		   	             
															</tr>   
															<tr data-ng-repeat="journalentry in journalentrydata">
																<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{$index+1}}</td>
																<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{journalentry.account_name}}</td>
																<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{journalentry.description}}</td>    
																<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{journalentry.amount}}</td>
															</tr>            		             
														</thread>                         
													</table> 
												</div>
											</div>
										</div>
 									</div>
								</div>	
      						</div>
    					</div> 
  					</div>
    				<div class="tab">
					    <input class="tab-radio" type="radio" id="tab-7" name="tab-group-1">
					    <label class="tab-label" for="tab-7">Previous Invoice</label>
					    	<div class="tab-panel">
	      						<div class="tab-content">
	       							<div class="form-group row">   
									     <div class="col-md-12">
									      	<div class="panel panel-primary">
									 		   <div class="panel-body">     
									 		   		<div class="panel-body table-responsive">
														<table class="table table-bordered">
															<tr style='background-color: CornflowerBlue'>           
																<th align="left">S.No</th>       
																<th align="left">Work Order No</th>    
																<th align="left">(<span class="fa fa-inr"><!--  --></span>) Amount</th>
																<th align="left">Debit Taxes</th>       
																<th align="left">Credit Taxes</th>    
																<th align="left">Net Amount</th>
																<th align="left">Status</th>    
																<th align="left">View</th>
															     
															</tr> 
															<tr data-ng-repeat="previous in previousDetails">      
																 <td align="left">{{$index+1}}</td>
																  <td class="hidden">{{previous.voucher_id}}</td>
																 <td align="left">{{previous.workorder_id}}</td>
																 <td align="left">{{previous.amount}}</td>
																 <td align="left">{{previous.debit_tax_amount}}</td>
																 <td align="left">{{previous.credit_tax_amount}}</td>
																 <td align="left">{{previous.net_amount}}</td>
																 <td align="left">{{previous.status}}</td>
																  <td align="center"><button type = "submit" class = "btn btn-primary" id = "view">View</button></td>
															</tr>  
														</table>
													</div>
									 			</div>
											</div>	
									 	</div> 
	      							</div>
	      						</div>
	      					</div>      
    					</div>    
				  	<div class="tab">
					    <input class="tab-radio" type="radio" id="tab-8" name="tab-group-1">
					    <label class="tab-label" for="tab-8">Payment Terms</label>
				    		<div class="tab-panel">
				      			<div class="tab-content">
				       				<div class="form-group row">
				     					<div class="col-md-12">
									       <div class="panel panel-primary">
									 		   <div class="panel-body">
									 		   		<div class="panel-body table-responsive">
														<table class="table table-bordered">
															<tr style='background-color: CornflowerBlue'>           
																<th align="left">S.No</th>       
																<th align="left">Title</th>    
																<th align="left">Rate</th>
																<th align="left">Condition</th>       
																<th align="left">Amount</th>
															</tr> 
															<tr>      
																 <td align="left">{{$index+1}}</td>
																 <td align="left"></td>
																 <td align="left"></td>
																 <td align="left"></td>
																 <td align="left"></td>
															</tr>  
														</table>
													</div>
													<center><button class="btn btn-success" id="search"  data-ng-click="getIncomeTaxDetails(data.object);" style="cursor:pointer">View Comparision</button> </center>   
									 			</div>
											</div>	
				 						</div> 
				      				</div>   
				      			</div>
				    		</div>     
				  		</div>
				</div>   
		</div>
		
		<!-- Book invoice page -->
		<div id = "bookinvoicepage">   
			<div class = "row">
				<div class = "col-md-8">
					<h3>Journal Entry</h3>
				</div>
				<div class = "col-md-4">
					<div class = "row">
						<div class = "col-md-4">
							<button class = "btn btn-success" id = "pdf" data-ng-click = "" >PDF</button>
						</div>
						<div class = "col-md-8">
							<button class = "btn btn-success" id = "releasepaymentbtn" data-ng-click = "getpaymentdetails(data.object);">Release Payment</button>
						</div>
					</div>
				</div>
			</div>
			<h5>&nbsp;</h5>
			<div class = "panel panel-primary">
				<div class = "panel-heading">
					<div class = "row">
						<div class = "col-md-2">
							<label>Voucher No:</label>
						</div>
						<div class = "col-md-3">
							{{data.object.voucher_number}}
						</div>
						<div class = "col-md-2">   
							<label>&nbsp;</label>
						</div>
						<div class = "col-md-2">
							<label>Voucher Date:</label>
						</div>   
						<div class = "col-md-3">   
							{{data.object.voucher_date}}
						</div>
					</div>
					<div class = "row">
						<div class = "col-md-2">
							<label>Document Date:</label>
						</div>
						<div class = "col-md-3">
							{{data.object.due_date}}
						</div>
						<div class = "col-md-2">
							<label>&nbsp;</label>
						</div>
						<div class = "col-md-2">
							<label>Invoice No:</label>
						</div>
						<div class = "col-md-3">
							{{data.object.invoice_id}}
						</div>
					</div>
					<div class = "row">
						<div class = "col-md-2">
							<label>Invoice Date:</label>
						</div>
						<div class = "col-md-3">
							{{data.object.invoice_date}}
						</div>
						<div class = "col-md-2">
							<label>&nbsp;</label>
						</div>
						<div class = "col-md-2">            
							<label>Entry Posted By:</label>
						</div>   
						<div class = "col-md-3">   
							{{data.object.name}}    
						</div>
					</div>
					<div class = "row">
						<div class = "col-md-2">
							<label>Due Date:</label>
						</div>        
						<div class = "col-md-3">
							{{data.object.due_date}}
						</div>
						<div class = "col-md-2">
							<label>&nbsp;</label>
						</div>   
						<div class = "col-md-2">
							<label>Processed By:</label>
						</div>
						<div class = "col-md-3">
							{{data.object.created_by}}
						</div>  
					</div>
				</div>   
				<div class = "panel-body">
					<div class="panel-body table-responsive">
						<table class="table table-bordered">
							<tr style='background-color: CornflowerBlue'>        
								<!-- <th align="left">S.no</th>    -->          
								<th align="left">Account Name</th>    
								<th align="left">Debit/By(<span class="fa fa-inr"><!--  --></span>)</th>
								<th align="left">Credit/To(<span class="fa fa-inr"><!--  --></span>)</th>
								
							</tr>    
							<tbody>   
								<div data-ng-if = "jvview1.length != 0">   
									<tr data-ng-repeat="jv in jvview1 = jvview1 | filter : search">
									    <!--  <td align="left">{{$index+1}}</td> -->
										 <td align="left">{{jv.account_name}}</td>   
										 <td align="left">{{jv.debit}}</td>   
										 <td align="left">{{jv.credit}}</td>
									</tr>      
								</div>
								<div data-ng-if = "jvview2.length != 0">
									<tr data-ng-repeat="jv in jvview2 = jvview2 | filter : search">
										<td align="left">{{jv.account_name}}</td>   
										<td align="left">{{jv.debit}}</td>   
										<td align="left">{{jv.credit}}</td>
									</tr>  
								</div>    
								<div data-ng-if = "jvview3.length != 0">
									<tr data-ng-repeat="jv in jvview3 = jvview3 | filter : search">
										<td align="left">{{jv.account_name}}</td>   
										<td align="left">{{jv.debit}}</td>   
										<td align="left">{{jv.credit}}</td>
									</tr> 
									<tr>      
										<td colspan="1">
										<center><b>Total</b></center></td> 
										<td><b>{{jvview1[0].debit + jvview2[0].debit + jvview3[0].debit}}</b></td>
										<td><b>{{jvview1[0].credit + jvview2[0].credit + jvview3[0].credit}}</b></td>
								 
									</tr>    
								</div>
							</tbody>
						</table>   
					</div> 
				</div>
			</div>
			<div class = "panel panel-primary">
				<div class = "row">
					<div class = "col-md-2">
						<label>Description:</label>
					</div>
					<div class = "col-md-10">
						<textarea class = "form-control" data-ng-model = "data.object.description" id = "description" disabled></textarea>
					</div>
				</div>
			</div>
			<div class = "panel panel-primary">
				<div class = "panel-heading">Approval Flow</div>
				<div class = "panel-body">
					
				</div>
			</div>
		</div>
		
		<!-- release payment page -->
		<div id = "releasepaymentpage">
			<h3>Bank Payment</h3>
			<div class = "panel panel-primary">
				<div class = "panel-body">
					<div class = "form-group row">   
						<div class = "form-group col-md-4">
							<label>Vendor Name</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.name" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.vendor" />
						</div>
						<div class = "form-group col-md-4">   
							<label>P.O/W.O /MoU No</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.workorder_id" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.voucher_id" />
						</div>
						<div class = "form-group col-md-4">
							<label>Voucher No</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.voucher_number" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.journal_entry_header" />
						</div>
					</div>   
					<div class = "form-group row">   
						<div class = "form-group col-md-4">
							<label>Invoice Date</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.invoice_date" disabled />
							<input type = "text" class = "hidden" data-ng-model = "data.object.invoice_id" />
						</div>
						<div class = "form-group col-md-4">
							<label>Due Date</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.due_date" disabled />
						</div>  
						<div class = "form-group col-md-4">
							<label>Invoice Amount</label>
							<input type = "text" class = "form-control" onkeyup="Calamount()" id = "vendoramount" data-ng-model = "data.object.net_amount" disabled />
						</div>
					</div>
					<div class = "form-group row">  
						<div class = "form-group col-md-4">
							<label>Bank Account</label>
							<select class = "form-control" data-ng-model = "data.object.bank_gl_account">
								<option data-ng-repeat="bank in banks" value="{{bank.id}}">{{bank.bank_account}}</option>
							</select>
						</div>
						<div class = "form-group col-md-2">
							<label>C.H No/Neft/RTGS No</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.reference_number" />
						</div>
						<div class = "form-group col-md-2">
							<label>Date</label>
							<input type = "date" class = "form-control" data-ng-model = "data.object.payment_date" />
						</div>
						<div class = "form-group col-md-2">
							<label>Amount</label>
							<input type = "text" class = "form-control" onkeyup="Calamount()" id = "payamount" data-ng-model = "data.object.amount" />
						</div>
						<div class = "form-group col-md-2">
							<label>Vendor Balance</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.net_amount" disabled />
						</div>
					</div>
					<div class = "form-group row">
						<div class = "form-group col-md-6">  
							<label>Description</label>
							<textarea type = "text" class = "form-control" data-ng-model = "data.object.description"></textarea>
						</div>      
						<div class = "form-group col-md-6">
							<label>Round off(-)</label>   
							<input type = "text" class = "form-control" id = "diffamount" data-ng-model = "data.object.diff_amount" />
						</div>
					</div>    
					<div class = "form-group row">   
						<div class = "form-group col-md-6">   
							<label>Signatory 1</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.signature_one" />
						</div>
						<div class = "form-group col-md-6">
							<label>Signatory 2</label>
							<input type = "text" class = "form-control" data-ng-model = "data.object.signature_two" />
						</div>
					</div>
					<center>
						<button class = "btn btn-success" data-ng-click = "Releasepaymenttovendor(data.object);" id = "pay">PAY</button>
					</center>  
				</div>
			</div>
		</div>    
		
	</div>   
<script>
	jQuery(document).ready(function() {    
		$("#mainpage").show();
		$("#pendingviewpage").hide();
		$("#bookinvoicepage").hide();
		$("#releasepaymentpage").hide();
		angular.bootstrap(jQuery("#bookinvoiceviewpageId"), [ 'bookinvoiceviewpage' ]);
	});
	
	$(document).on('click', "#PendingActionbtn", function(){   
		$("#mainpage").hide();
		$("#pendingviewpage").show();
		$("#bookinvoicepage").hide();
		$("#releasepaymentpage").hide();
	});
	
	$(document).on('click', "#bookinvoicebtn", function(){
		$("#mainpage").hide();
		$("#pendingviewpage").hide();
		$("#bookinvoicepage").show();
		$("#releasepaymentpage").hide();
	});
	
	$(document).on('click', "#releasepaymentbtn", function(){
		$("#mainpage").hide();
		$("#pendingviewpage").hide();
		$("#bookinvoicepage").hide();   
		$("#releasepaymentpage").show();
	});
	
</script>

<script type="text/javascript">
    function Calamount() {
        var txtFirstNo = document.getElementById('payamount').value;
        var txtSecondNo = document.getElementById('vendoramount').value;
        var result1 = parseFloat(txtSecondNo) - parseFloat(txtFirstNo);
        if (!isNaN(result1)) {   
            document.getElementById('diffamount').value = result1;
        }   
    }   
</script>

</div>