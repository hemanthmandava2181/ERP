<script
	src="/erp/files/assets/js/erp-scripts/Claimmanagement/billsubmissionlist.js"></script>
<!-- Data Tables -->     
<link rel="stylesheet" type="text/css"
	href="/erp/files/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css">
<link rel="stylesheet" type="text/css"
	href="/erp/files/assets/pages/data-table/css/buttons.dataTables.min.css">
<link rel="stylesheet" type="text/css"
	href="/erp/files/bower_components/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css">

<div id="billsubmissionlistId" data-ng-controller="billsubmissionlistController">
	<div id = "mainpage">
		<div class="row">
			<div class="col-sm-12">
				<div class="card">
					<div class="card-block caption-breadcrumb">
						<div class="breadcrumb-header">
							<h5>Bill Submission List</h5>
						</div>    
						<div class="page-header-breadcrumb">
							<ul class="breadcrumb-title">
								<li class="breadcrumb-item"><a href="#!"> <i
										class="ti-home"></i>
								</a></li>
								<li class="breadcrumb-item"><a href="#!">Claim
										Management</a></li>
								<li class="breadcrumb-item"><a href="#!">My Claims</a></li>
								<li class="breadcrumb-item"><a href="#!">Bill Submission
										List</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- BreadCrumb End -->
		<h5>Bill Submission List</h5>
		<h8>&nbsp;</h8>
		<div class="row">
			<div class="col-sm-12">
				<div class="card">
					<div class="card-body">
						<div class="dt-responsive table-responsive">
							<table id="order-table"
								class="table table-striped table-bordered nowrap">
								<thead>
									<tr>
										<th valign="middle" style="vertical-align: middle !important; min-width: 50px;max-width: 50px;" class="text-center">S.No</th>        
										<th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Claim ID</th>   
										<th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Date Of Submission</th>    
										<th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">From Date</th>    
										<th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">To Date</th>
										<th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Purpose Of Request</th>  
										<th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Advance Amount(Rs.)</th>
										<th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Reimbursement Amount(Rs.)</th>
										<th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Approver</th>
										<th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Status</th> 
										<th valign="middle" style="vertical-align: middle !important; min-width: 100px;max-width: 100px;" class="text-center">View</th>	
										<th valign="middle" style="vertical-align: middle !important; min-width: 100px;max-width: 100px;" class="text-center">Action</th>
										<!-- <th valign="middle" style="vertical-align: middle !important; min-width: 100px;max-width: 100px;" class="text-center">PDF</th> -->
									</tr>
								</thead>   
								<tbody>
									<tr data-ng-repeat="billsubmissiondata in billsubmissionListdetails">       
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{$index+1}}</td>   
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.claim_reimbursement_id}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.created_date}}</td>    
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.from_date}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.to_date}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.purposename}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-right">{{billsubmissiondata.advance_amount}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-right">{{billsubmissiondata.release_amount}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.approved_by}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.approvestatus}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">
											<button class = "btn btn-primary" data-ng-click = "getbillsubmissionviewpgedata(billsubmissiondata.claim_reimbursement_id);"
													id = "viewpagebtn" type = "submit">View</button>   
										</td>      
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">
											<button class = "btn btn-primary" id = "updatebtn" type = "submit"
												data-ng-click = "getbillsubmissionupdatedata(billsubmissiondata.claim_reimbursement_id);">Update</button>
										</td>
										<!-- <td valign="middle" style="vertical-align: middle !important;" class="text-center">
											<button class = "btn btn-primary" id = "pdf" type = "submit" data-ng-click = "">PDF</button>
										</td>  -->
									</tr>   
								</tbody>    
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- view page -->
	<div id = "billsubmissionviewpage">
		<!-- BreadCrumb Start -->
		<div class="row">
			<div class="col-sm-12">
				<div class="card">
					<div class="card-block caption-breadcrumb">
						<div class="breadcrumb-header">
							<h5>Bill Submission View Page</h5>
						</div>
						<div class="page-header-breadcrumb">
							<ul class="breadcrumb-title">
								<li class="breadcrumb-item"><a href="#!"> <i
										class="ti-home"></i>
								</a></li>
								<li class="breadcrumb-item"><a href="#!">Budget Inputs</a></li>
								<li class="breadcrumb-item"><a href="#!">Simulation Summary</a></li>
								<li class="breadcrumb-item"><a href="#!">Simulation Summary View</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- BreadCrumb End -->
	
		<div class="row">
			<div class="col-sm-12">
				<div class="card">
					<div class="card-header bg-primary">
						<h6>Reimbursement Claim Submitted</h6>
					</div>
					<div class="card-body">
						<div style="margin-top: 35px;"
							class="panel panel-heading media mar_t2 ">
							<div class="media-left ">
								<img height="81 " width="81 " style="border: 2px solid #ccc;"
									class="media-object img-circle " alt=" "
									src="/files/assets/images/default_Muser.png ">
							</div>
							<div class="media-body ">
								<h5 style="margin: 0; padding: 0; font-weight: 400;">Admin</h5>
								<small>Emp.ID : AO0116397 </small><br> <small>Designation
									: Administrative Officer </small><br> <small>Work Location
									: APSSDC Head Office </small><br>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	
		<div class="row">
			<div class="col-sm-12">
				<div class="card">
					<div class="card-body">
						<div class="row">
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<label class="font-weight-bold">Claim ID</label>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xs-12 mt-1">
								<label class="font-weight-bold">:</label>&nbsp;&nbsp;&nbsp;{{data.object.claim_reimbursement_id}}
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<label class="font-weight-bold">Purpose Of Request</label>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xs-12 mt-1">
								<label class="font-weight-bold">:</label>&nbsp;&nbsp;&nbsp;{{data.object.purposename}}
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<label class="font-weight-bold">Applied On</label>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xs-12 mt-1">
								<label class="font-weight-bold">:</label>&nbsp;&nbsp;&nbsp;{{data.object.created_date}}
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<label class="font-weight-bold">Advance Amount</label>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xs-12 mt-1">
								<label class="font-weight-bold">:</label>&nbsp;&nbsp;&nbsp;{{data.object.advance_amount}}
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<label class="font-weight-bold">Reimbursement Claimed
									Amount</label>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xs-12 mt-1">
								<label class="font-weight-bold">:</label>&nbsp;&nbsp;&nbsp;{{data.object.release_amount}}
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<label class="font-weight-bold">Status</label>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xs-12 mt-1">
								<label class="font-weight-bold">:</label>&nbsp;&nbsp;&nbsp;{{data.object.approvestatus}}
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<label class="font-weight-bold">Next Approver</label>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xs-12 mt-1">
								<label class="font-weight-bold">:</label>&nbsp;&nbsp;&nbsp;{{data.object.approver}}
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<label class="font-weight-bold">Project</label>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xs-12 mt-1">
								<label class="font-weight-bold">:</label>&nbsp;&nbsp;&nbsp;{{data.object.project_name}}
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<label class="font-weight-bold">Description</label>
							</div>
							<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xs-12 mt-1">
								<label class="font-weight-bold">:</label>&nbsp;&nbsp;&nbsp;{{data.object.description}}
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	
		<div class="row">
			<div class="col-sm-12">
				<div class="card">
					<div class="card-header bg-primary">
						<h6>Reimbursement Claim Status</h6>
					</div>
					<div class="card-body">
						<div class="dt-responsive table-responsive">
							<table class="table table-striped table-bordered nowrap">
								<thead class="btn-grd-primary">
									<tr>
										<th valign="middle"
											style="vertical-align: middle !important; min-width: 50px; max-width: 50px;"
											class="text-center">S.No</th>
										<th valign="middle"
											style="vertical-align: middle !important; min-width: 150px; max-width: 150px;"
											class="hidden">Claim ID</th>
										<th valign="middle"
											style="vertical-align: middle !important; min-width: 150px; max-width: 150px;"
											class="text-center">Date</th>
										<th valign="middle"
											style="vertical-align: middle !important; min-width: 150px; max-width: 150px;"
											class="text-center">Name</th>
										<th valign="middle"
											style="vertical-align: middle !important; min-width: 150px; max-width: 150px;"
											class="text-center">Status</th>
										<th valign="middle"
											style="vertical-align: middle !important; min-width: 100px; max-width: 100px;"
											class="text-center">PDF</th>
									</tr>
								</thead>
								<tbody>
									<tr
										data-ng-repeat="billsubmissiondata in billsubmissionListviewdetails">
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{$index+1}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.created_date}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.employee_name}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">{{billsubmissiondata.approvestatus}}</td>
										<td valign="middle" style="vertical-align: middle !important;" class="text-center">
											<button class="btn btn-primary" data-ng-click="" id="viewpagebtn" type="submit">View</button>
										</td>
									</tr>
								</tbody>
	
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- update page -->
	<div id = "billsubmissionupdatepage">
		<div class="row">
		    <div class="col-sm-12">
		        <div class="card">
		            <div class="card-block caption-breadcrumb">
		                <div class="breadcrumb-header">
		                    <h5>Payroll Summary</h5>
		                </div>
		                <div class="page-header-breadcrumb">
		                    <ul class="breadcrumb-title">
		                        <li class="breadcrumb-item">
		                            <a href="#!">
		                                <i class="ti-home"></i>
		                            </a>
		                        </li>
		                        <li class="breadcrumb-item">
		                            <a href="#!">HRMS</a>
		                        </li>
		                        <li class="breadcrumb-item">
		                            <a href="#!">Project Management/a>
		                                                                </li>
		                                                                <li class="breadcrumb-item">
		                                                                    <a href="#!">Payroll Summary</a>
		                        </li>
		                    </ul>
		                </div>
		            </div>
		        </div>
		    </div>
		</div>
		<!-- BreadCrumb End -->
		<div class="row">
		    <div class="col-sm-12">
		        <div class="card">
		            <div class="card-body">
		                <div style="margin-top: 35px;" class="panel panel-heading media mar_t2 ">
		                    <div class="media-left ">
		                        <img height="81 " width="81 " style="border: 2px solid #ccc;" class="media-object img-circle " alt=" " src="/files/assets/images/default_Muser.png ">
		                    </div>
		                    <div class="media-body ">
		                        <h5 style="margin: 0; padding: 0; font-weight: 400;">Admin</h5>
		                        <small>Emp.ID : AO0116397 </small><br>
		                        <small>Designation : Administrative Officer </small><br>
		                        <small>Work Location : APSSDC Head Office </small><br>
		                    </div>
		                </div>
		            </div>
		        </div>
		    </div>
		</div>
		<div class="row">
		    <div class="col-sm-12">
		        <div class="card">
		            <div class="card-body">
		                <div class="row">
		                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
		                        <label class="font-weight-bold">Claim ID</label>
		                        <input type="text" class="form-control" disabled data-ng-model="data.object.claim_reimbursement_id" />
		                    </div>
		                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
		                        <label class="font-weight-bold">From Date</label>
		                        <input type="text" class="form-control" data-ng-model="data.object.from_date" disabled />
		                    </div>
		                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
		                        <label class="font-weight-bold">To Date</label>
		                        <input type="text" class="form-control" data-ng-model="data.object.to_date" disabled />
		                    </div>
		                </div>
		                <div class="row">
		                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
		                        <label class="font-weight-bold">Project</label>
		                        <select class="form-control" data-ng-model="data.object.project">
		                                                                    <option data-ng-repeat="project in projects" value="{{project.project}}">{{project.project_name}}</option>
		                                                                </select>
		                    </div>
		                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
		                        <label class="font-weight-bold">Purpose Of Request</label>
		                        <input type="text" class="form-control" data-ng-model="data.object.purposename" disabled />
		                    </div>
		                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
		                        <label class="font-weight-bold">Advance Amount</label>
		                        <input type="text" class="form-control" data-ng-model="data.object.advance_amount" disabled />
		                    </div>
		                </div>
		                <div class="row">   
		                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
		                        <label class="font-weight-bold">Reimbursement Claimed</label>
		                        <input type="text" class="form-control" data-ng-model="data.object.release_amount" disabled />
		                    </div>
		                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
		                        <label class="font-weight-bold">Total Amount</label>
		                        <input type="text" class="form-control" data-ng-model="data.object.amount" disabled />
		                    </div>
		                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
		                        <label class="font-weight-bold">Remarks</label>
		                        <textarea class="form-control" data-ng-model="data.object.description"></textarea>
		                    </div>
		                </div>
		            </div>
		        </div>
		    </div>
		</div>
		
		<div class="row">
		    <div class="col-sm-12">
		        <div class="card">
		            <div class="card-body">
		                <div class="dt-responsive table-responsive">
		                    <table class="table table-striped table-bordered nowrap">
		                        <thead>
		                            <tr>
		                                <th valign="middle" style="vertical-align: middle !important; min-width: 200px;max-width: 200px;" class="text-center">GL Account</th>
		                                <th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Date</th>
		                                <th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Claim Type</th>
		                                <th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="hidden">Location</th>
		                                <th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Bill Number</th>
		                                <th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Amount</th>
		                                <!-- <th valign="middle" style="vertical-align: middle !important; min-width: 150px;max-width: 150px;" class="text-center">Attachment</th> -->
		                            </tr>
		                        </thead>
		                        <tbody>
		                            <tr>
		                               <td>   
		                               		<select class="form-control" data-ng-model="data.object.gl_account">
                                                 <option data-ng-repeat = "account in accounts" value = "{{account.id}}">{{account.account_name}}</option>
                                             </select>
		                               </td> 
		                               <td>
		                               		<input type = "text" class = "form-control" data-ng-model = "data.object.details_date" />
		                               </td>
		                               <td>
		                               		<select class = "form-control" data-ng-model = "data.object.claim_type">
												<option value = "1">Travel</option>
												<option value = "2">Accommodation</option>  
												<option value = "3">Benefits</option>
												<option value = "4">Incidental</option>
												<option value = "5">Food</option>
												<option value = "6">Others</option>
											</select>
		                               </td>
		                               <td>
		                               		<select class = "form-control" data-ng-model = "data.object.location_id">
												<option value = "1">International</option>
												<option value = "2">Within AP and T</option>
												<option value = "3">Outside AP</option> 
											</select>    
		                               </td>
		                               <td>
		                               		<input type = "text" class = "form-control" placeholder = "Number" data-ng-model = "data.object.name"/>
		                               </td>
		                               <td>
		                               		<input type = "text" class = "form-control" placeholder = "Amount" data-ng-model = "data.object.amount"/>
		                               </td>
		                            </tr>
		                        </tbody>
		                    </table>
		                </div>   
		            </div>
		        </div>
		    </div>
		</div>   
		
		<div class="row">
		    <div class="col-sm-12 mt-1 text-center">
		        <button class="btn btn-grd-primary hor-grd" data-ng-click = "updateBills(data.object);">Submit</button>
		    </div>
		</div>
	</div>
	
	
</div>

<!-- Data Tables -->
<script
	src="/erp/files/bower_components/datatables.net/js/jquery.dataTables.min.js "></script>
<script
	src="/erp/files/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js "></script>
<script src="/erp/files/assets/pages/data-table/js/jszip.min.js "></script>
<script src="/erp/files/assets/pages/data-table/js/pdfmake.min.js "></script>
<script src="/erp/files/assets/pages/data-table/js/vfs_fonts.js "></script>
<script
	src="/erp/files/bower_components/datatables.net-buttons/js/buttons.print.min.js "></script>
<script
	src="/erp/files/bower_components/datatables.net-buttons/js/buttons.html5.min.js "></script>
<script
	src="/erp/files/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js "></script>
<script
	src="/erp/files/bower_components/datatables.net-responsive/js/dataTables.responsive.min.js "></script>
<script
	src="/erp/files/bower_components/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js "></script>

<script
	src="/erp/files/assets/pages/data-table/js/data-table-custom.js "></script>


<script>
	jQuery(document).ready(function() {
		document.getElementById("mainpage").style.display = "block";
		document.getElementById("billsubmissionviewpage").style.display = "none";
		document.getElementById("billsubmissionupdatepage").style.display = "none";
		angular.bootstrap(jQuery("#billsubmissionlistId"),[ 'billsubmissionlist' ]);
	});
	
	$(document).on('click', "#viewpagebtn", function() {
		document.getElementById("mainpage").style.display = "none";
		document.getElementById("billsubmissionviewpage").style.display = "block";
		document.getElementById("billsubmissionupdatepage").style.display = "none";
	});
	
	$(document).on('click', "#updatebtn", function() {   
		document.getElementById("mainpage").style.display = "none";
		document.getElementById("billsubmissionviewpage").style.display = "none";
		document.getElementById("billsubmissionupdatepage").style.display = "block";
	});
	
</script>

