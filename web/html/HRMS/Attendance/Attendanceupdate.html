<script
	src="/erp/files/assets/js/erp-scripts/HRMS/general/attendanceUpdateModule.js"></script>

<link rel="stylesheet" type="text/css"
	href="/erp/files/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css">
<link rel="stylesheet" type="text/css"
	href="/erp/files/assets/pages/data-table/css/buttons.dataTables.min.css">
<link rel="stylesheet" type="text/css"
	href="/erp/files/bower_components/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css">
<div id="attendanceUpdateDiv"
	data-ng-controller="attendanceUpdateController">


	<div class="row">
		<div class="col-sm-12">
			<div class="card">
				<div class="card-block caption-breadcrumb">
					<div class="breadcrumb-header">
						<h5>Attendance Update</h5>
					</div>
					<div class="page-header-breadcrumb">
						<ul class="breadcrumb-title">
							<li class="breadcrumb-item"><a href="#!"> <i
									class="ti-home"></i>
							</a></li>
							<li class="breadcrumb-item"><a href="#!">HRMS</a></li>
							<li class="breadcrumb-item"><a href="#!">Attendance
									Management</a></li>
							<li class="breadcrumb-item"><a href="#!">Attendance
									Update</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- BreadCrumb End -->

	<div id="attendance">
		<h5>Employee Attendance Update</h5>
		<h6>&nbsp;</h6>
		<div class="row">
			<div class="col-sm-12">
				<div class="card">
					<div class="card-body">
						<div class="row">
							<div class="col-sm-12 col-md-2 col-lg-2 col-xl-2 col-xs-12 mt-1">
								<div class="form-group">
									<label>Attendance Date</label>
								</div>
							</div>
							<div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xs-12 mt-1">
								<input type="date" name="selectedDate"
									class="datepicker form-control" data-ng-model="selectedDate"
									placeholder="Select Date" />
							</div>
							<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
								<div class="form-group">
									<button class="btn btn-grd-primary hor-grd"
										data-ng-click="getAbsentees(selectedDate);">Search</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div id="dataDiv">
				<div class="card">
					<div class="card-header bg-primary">
						<h6 class="card-title">Absentees as on:{{selectedDate |
							date:"dd-MM-yyyy"}}</h6>
					</div>
					<div class="card-body">
						<div class="dt-responsive table-responsive">
							<table id="simpletable"
								class="table table-striped table-bordered nowrap">
								<thead>
									<tr>
										<th>S.no</th>
										<th><input type="checkbox" data-ng-model="allEmployees"
											data-ng-true-value="true" data-ng-false-value="false"
											data-ng-click="setAllRegIds(allEmployees);">&nbsp;Select
											All
										</th>
										<th>Employee Id</th>
										<th>Employee Name</th>
										<th>Department</th>
										<th>Cadre</th>
										<th>Grade</th>										
									</tr>
								</thead>
								<tbody>
									<tr
										data-ng-repeat="emp in  (filteredItems = (absentees.absentees | filter : search))">
										<td>{{$index+1}}</td>
										<td><input type="checkbox"
											data-ng-model="studentsPresentArr[emp.empid]"
											data-ng-checked="allSelected()">
										</td>
										<td>{{emp.empid}}</td>
										<td>{{emp.name}}</td>
										<td>{{emp.department}}</td>
										<td>{{emp.cader}}</td>
										<td>{{emp.grade}}</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div class=" row ">
					<div class="col-sm-12 mt-1 text-center ">
						<button class="btn btn-grd-primary hor-grd "
							data-ng-click="updateAttendance(selectedDate,studentsPresentArr);">Update</button>
					</div>
				</div>
			</div>
		</div>
	</div>

</div>

<!-- Data Tables -->
<script
	src="files/bower_components/datatables.net/js/jquery.dataTables.min.js "></script>
<script
	src="files/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js "></script>
<script src="files/assets/pages/data-table/js/jszip.min.js "></script>
<script src="files/assets/pages/data-table/js/pdfmake.min.js "></script>
<script src="files/assets/pages/data-table/js/vfs_fonts.js "></script>
<script
	src="files/bower_components/datatables.net-buttons/js/buttons.print.min.js "></script>
<script
	src="files/bower_components/datatables.net-buttons/js/buttons.html5.min.js "></script>
<script
	src="files/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js "></script>
<script
	src="files/bower_components/datatables.net-responsive/js/dataTables.responsive.min.js "></script>
<script
	src="files/bower_components/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js "></script>

<script>
jQuery(document).ready(function() {
	
	$("#attendance").show();
	$("#dataDiv").hide(); 
	angular.bootstrap(jQuery("#attendanceUpdateDiv"), [ 'attendanceUpdateModule' ]);
	
});   
/*                  
	
$(function() {
	$(".datepicker").datepicker({
		/* minDate : new Date,
		changeMonth : true,   
		changeYear : true, */
/* 		dateFormat : 'dd-mm-yy'
	});
});  */          
	              
</script>
