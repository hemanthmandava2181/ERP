<script src="/erp/files/assets/js/erp-scripts/HRMS/leaves/myleaves.js"></script>
<link rel="stylesheet" type="text/css"
	href="/erp/files/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css">
<link rel="stylesheet" type="text/css"
	href="/erp/files/assets/pages/data-table/css/buttons.dataTables.min.css">
<link rel="stylesheet" type="text/css"
	href="/erp/files/bower_components/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css">
<div id="myleave" data-ng-controller="leaveController">

	<!-- BreadCrumb Start -->
	<div class="row">
		<div class="col-sm-12">
			<div class="card">
				<div class="card-block caption-breadcrumb">
					<div class="breadcrumb-header">
						<h5>My Leave Tracker</h5>
					</div>
					<div class="page-header-breadcrumb">
						<ul class="breadcrumb-title">
							<li class="breadcrumb-item"><a href="#!"> <i
									class="ti-home"></i>
							</a></li>
							<li class="breadcrumb-item"><a href="#!">HRMS</a></li>
							<li class="breadcrumb-item"><a href="#!">Leave
									Management</a></li>
							<li class="breadcrumb-item"><a href="#!">My Leaves</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- BreadCrumb End -->
	<div class="row">
		<div class="col-sm-12">
			<h4 class="card-title">My Leave Tracker</h4>
			<div class="card">

				<div class="card-body">
					<div class="row">

						<!-- <div class="col-sm-12 col-md-4 col-xl-4 col-lg-4 col-xs-12">
							<div class="form-group">
								<label class="font-weight-bold">Year<span
									class="text-danger">*</span> :
								</label> <select class="form-control" name="select"
									data-ng-model="data.object.id">
									<option>--Select --</option>
									<option data-ng-repeat="year in yearss" value="{{year.id}}">{{year.year_name}}</option>
								</select>

							</div>
						</div> -->
						<div class="col-sm-12 col-md-4 col-xl-4 col-lg-4 col-xs-12">
							<div class="form-group">
								<label class="font-weight-bold">Leave Type<span
									class="text-danger">*</span> :
								</label> <select class="form-control"
									data-ng-model="data.object.leave_type">

									<option data-ng-repeat="leave in leavetypes"
										value="{{leave.id}}">{{leave.type}}</option>
								</select>

							</div>
						</div>

					</div>
				</div>
			</div>
		</div>


	</div>


	<div class="row">
		<div class="col-sm-12 mt-1 text-center">
			<button class="btn btn-grd-success hor-grd"
				data-ng-click="getMyleavesDetails(data.object);">Find</button>
		</div>
	</div>
	<br>
	<div class="row">
		<div class="col-sm-12">
			<div class="card">
				<div class="card-header bg-primary">
					<h6 class="card-title">Personal Leave For 2020 Graph(click on
						graph bar for detail view)</h6>
				</div>
				<div class="card-body">
					<div class="row">
						<div id="placeholder" class="demo-placeholder"
							style="height: 300px;"></div>
					</div>
				</div>


			</div>
		</div>
	</div>



	<div class="row">
		<div class="col-sm-12">
			<div class="card">
				<div class="card-header bg-primary">
					<h6 class="card-title">Personal Leave For 2019 List</h6>
				</div>
				<div class="card-body">
					<div class="dt-responsive table-responsive">
						<table class="table table-hover table-bordered" id="simpletable">
							<thead class="btn-grd-primary">
								<tr>
									<th>From Date</th>
									<th>To Date</th>
									<th>No.Of Days</th>
									<th>Status</th>
									<th>Reason</th>
									<th>Request Raised Date</th>
									<th>Approve/Rejected Date</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								<tr data-ng-repeat="myleavedata in MyleavesDetails">
									<td>{{myleavedata.from_date}}</td>
									<td>{{myleavedata.to_date}}</td>
									<td>{{myleavedata.no_days}}</td>
									<td>{{myleavedata.leavestatus}}</td>
									<td>{{myleavedata.reason}}</td>
									<td>{{myleavedata.created_date|date:'dd-MM-yy'}}</td>
									<td>{{myleavedata.approved_date}}</td>
									<td><button class="btn btn-primary btn-sm">Pending</button></td>

								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>


</div>

<!-- Data Table -->
<script
	src="/erp/files/bower_components/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
<script
	src="/erp/files/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
<script
	src="/erp/files/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
<script src="/erp/files/assets/pages/data-table/js/jszip.min.js"></script>
<script src="/erp/files/assets/pages/data-table/js/pdfmake.min.js"></script>
<script src="/erp/files/assets/pages/data-table/js/vfs_fonts.js"></script>
<script
	src="/erp/files/bower_components/datatables.net-buttons/js/buttons.print.min.js"></script>
<script
	src="/erp/files/bower_components/datatables.net-buttons/js/buttons.html5.min.js"></script>
<script
	src="/erp/files/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
<script
	src="/erp/files/bower_components/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script
	src="/erp/files/bower_components/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>

<script src="/erp/files/assets/pages/data-table/js/data-table-custom.js"></script>

<script>
        $('#simpletable1').DataTable();
    </script>

<script>                        
		jQuery(document).ready(function() {         
			
  			
			angular.bootstrap(jQuery("#myleave"), [ 'myleave' ]);    
	    });
		
	</script>



<script>
$( document ).ready(function() {
    $(".button").each(function( index ) {
           if($(this).text()=='pending'){
               $(this).text('Under Review');
           }
           if($(this).text()=='Approved'){
               $(this).text('Accepted');
           }
   
    });
});
</script>