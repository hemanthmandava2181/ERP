
<script src="/erp/files/assets/js/erp-scripts/HRMS/ctc/lopadjustment.js"></script>
<div id="lopadjustmentId" data-ng-controller="lopAdjustmentController">
	<div class="row">
		<div class="col-sm-12">
			<div class="card">
				<div class="card-block caption-breadcrumb">
					<div class="breadcrumb-header">
						<h5>LOP Adjustments</h5>
					</div>
					<div class="page-header-breadcrumb">
						<ul class="breadcrumb-title">
							<li class="breadcrumb-item"><a href="#!"> <i
									class="ti-home"></i>
							</a></li>
							<li class="breadcrumb-item"><a href="#!">HRMS</a></li>
							<li class="breadcrumb-item"><a href="#!">PayRoll
									Management</a></li>
							<li class="breadcrumb-item"><a href="#!">LOP Adjustments</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- BreadCrumb End -->
	<div class="row">
		<div class="col-sm-12">
			<div class="card">
				<div class="card-header bg-primary">
					<h6 class="card-title">LOP Adjustments</h6>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
							<label>Financial Year</label> <select class="form-control"
								data-ng-model="data.object.financial_year">
								<option data-ng-repeat="year in years" value="{{year.id}}">{{year.name}}</option>
							</select>
						</div>
						<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
							<label>Month</label> <select class="form-control"
								data-ng-model="data.object.monthid" data-ng-change="getEmployees(data.object);">
								<option data-ng-repeat="month in months"
									value="{{month.id}}">{{month.name}}</option>
							</select>
						</div>
						<div class="col-sm-12 col-md-3 col-lg- col-xl-3 col-xs-12 mt-1">
							<label>Employee</label> 
							<select
						class="form-control" data-ng-model="data.object.empid" data-ng-change="getLOPCount(data.object);"> 
						<option>--Select--</option>
						<option data-ng-repeat="employee in employees" value="{{employee.empid}}">{{employee.employeename}}</option>
	   				</select> 
						</div>

						<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
							<div class="form-group">
								<label>LOP Count</label> <input type="text" class="form-control" placeholder="Enter Employee LOP Days" data-ng-model="data.object.lop_days" data-ng-blur="saveEmployeeLOPDetails(data.object);" />
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>     

	<div class="col-sm-12 col-xl-12 m-b-30 text-center">
		<button class="btn btn-primary" data-ng-click=" getEmployeeLOPDetails(data.object);">GET</button>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<div class="card">
				<div class="card-header"></div>
				<div class="card-body">
					<div class="dt-responsive table-responsive">
						<table class="table table-hover table-bordered" id="simpletable">
							<thead class="btn-grd-primary">
								<tr>
									<th>S.No</th>
									<th>Name</th>
									<th>Financial Year</th>
									<th>Month</th>
									<th>LOP Days</th>    
									<th>Amount</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								<tr data-ng-repeat="userdata in lopAdjustmentDetails">
									<td align="left">{{$index+1}}</td>
									<td>{{userdata.name}}</td>
									<td>{{userdata.financialyear}}</td>
									<td>{{userdata.payroll_month}}</td>
									<td>{{userdata.lop_days}}</td>
									<td>{{userdata.amount}}</td>
									<td><button type="button" class="btn btn-primary" 
									data-toggle="modal" data-target="#loppayroll_adjustment"
									id="release" data-ng-click="releaseamount(userdata.empid);">Release</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>     
	</div>
	
	
	
	
	<div class="modal fade" id="loppayroll_adjustment" tabindex="-1" role="dialog">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title text-primary"> </h4>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div> 
				<div class="modal-body">
					<div class="card-body">
					<div class="row">
						<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
							<label>Financial Year</label> <select class="form-control"
								data-ng-model="data.object.financial_year">
								<option data-ng-repeat="year in years" value="{{year.id}}">{{year.name}}</option>
							</select>
						</div>
						<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
							<label>Month</label> <select class="form-control"
								data-ng-model="data.object.month" >
								<option data-ng-repeat="month in months"
									value="{{month.id}}">{{month.name}}</option>
							</select>
						</div>   
						<div class="col-sm-12 col-md-3 col-lg- col-xl-3 col-xs-12 mt-1">
							<label>Employee</label>      
							<select   
						class="form-control" data-ng-model="data.object.empid" > 
						
						<option data-ng-repeat="employee in employees" value="{{employee.empid}}">{{employee.name}}</option>
	   				</select> 
						</div>

						<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
							<div class="form-group">
								<label>LOP Count</label> <input type="text" class="form-control" placeholder="Enter Employee LOP Days" data-ng-model="data.object.lop_days"  />
							</div>
						</div>
						
						<div class="col-sm-12 col-md-3 col-lg-3 col-xl-3 col-xs-12 mt-1">
							<div class="form-group">
								<label>LOP Amount</label> <input type="text" class="form-control" placeholder="Enter Employee LOP Days" data-ng-model="data.object.amount"  />
							</div>
						</div>
						
						
						
						
						
					</div>
				</div>
				
				
				
				
				</div>
				
				<div class="modal-footer">
							<button type="button" class="btn btn-default waves-effect" 
								data-dismiss="modal">Close</button>
							<button type="button" id="sub" value="Register"
								class="btnbtn-md btn-primary" data-dismiss="modal"
								data-ng-click="Insertloppayrolldata(data.object);"
								style="margin-left: 50%">Submit</button>
						</div>
			</div>
		</div>
	</div>
	    

</div>

<!-- Data Table -->
<script
	src="files/bower_components/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
<script
	src="files/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
<script
	src="files/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
<script src="files/assets/pages/data-table/js/jszip.min.js"></script>
<script src="files/assets/pages/data-table/js/pdfmake.min.js"></script>
<script src="files/assets/pages/data-table/js/vfs_fonts.js"></script>
<script
	src="files/bower_components/datatables.net-buttons/js/buttons.print.min.js"></script>
<script
	src="files/bower_components/datatables.net-buttons/js/buttons.html5.min.js"></script>
<script
	src="files/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
<script
	src="files/bower_components/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script
	src="files/bower_components/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>

<script src="files/assets/pages/data-table/js/data-table-custom.js"></script>

<script src="files/assets/js/pcoded.min.js"></script>
<script src="files/assets/js/vertical/vertical-layout.min.js"></script>
<script src="files/assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="files/assets/js/sweetalert.js"></script>

<script src="files/assets/js/script.js"></script>

<script>
        $('#simpletable1').DataTable();
    </script>

<script>
	jQuery(document).ready(function() {
		angular.bootstrap(jQuery("#lopadjustmentId"), [ 'lopadjustment' ]);
	});
</script>
